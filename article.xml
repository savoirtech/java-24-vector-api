<?xml version="1.0" encoding="UTF-8"?>
<?asciidoc-toc?>
<?asciidoc-numbered?>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xl="http://www.w3.org/1999/xlink" version="5.0" xml:lang="en">
<info>
<title>Java 24 Vector API</title>
<date>2025-03-20</date>
</info>
<simpara>Performance testing Java 24&#8217;s Vector API.</simpara>
<section xml:id="_test_harness">
<title>Test Harness:</title>
<simpara>JavaVectorAPI-1:
<link xl:href="https://github.com/tomerr90/JavaVectorAPI-1.git">https://github.com/tomerr90/JavaVectorAPI-1.git</link></simpara>
</section>
<section xml:id="_test_design">
<title>Test Design:</title>
<simpara>Using JDK 24 we will run all five test suites from JavaVectorAPI-1 on a different CPU vendor:</simpara>
<itemizedlist>
<listitem>
<simpara>Intel Xeon E-2378</simpara>
</listitem>
<listitem>
<simpara>AMD Ryzen 9 9950x</simpara>
</listitem>
<listitem>
<simpara>Apple M4 Base</simpara>
</listitem>
<listitem>
<simpara>Qualcomm SnapDragon X Elite X1E80100</simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="_test_results">
<title>Test Results:</title>
<section xml:id="_intel_xeon_e_2378">
<title>Intel Xeon E-2378</title>
<simpara>SimpleSum:</simpara>
<informalfigure>
<mediaobject>
<imageobject>
<imagedata fileref="./assets/images/Xeon-SimpleSum.png" contentwidth="480" contentdepth="640" align="center"/>
</imageobject>
<textobject><phrase>SimpleSum</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>SimpleSumNoSuperWord:</simpara>
<informalfigure>
<mediaobject>
<imageobject>
<imagedata fileref="./assets/images/Xeon-SimpleSumNoSuperWord.png" contentwidth="480" contentdepth="640" align="center"/>
</imageobject>
<textobject><phrase>SimpleSumNoSuperWord</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>ComplexExpression:</simpara>
<informalfigure>
<mediaobject>
<imageobject>
<imagedata fileref="./assets/images/Xeon-ComplexExpression.png" contentwidth="480" contentdepth="640" align="center"/>
</imageobject>
<textobject><phrase>ComplexExpression</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>ComplexExpressionNoSuperWord:</simpara>
<informalfigure>
<mediaobject>
<imageobject>
<imagedata fileref="./assets/images/Xeon-ComplexExpressionNoSuperWord.png" contentwidth="480" contentdepth="640" align="center"/>
</imageobject>
<textobject><phrase>ComplexExpressionNoSuperWord</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>ArrayStats:</simpara>
<informalfigure>
<mediaobject>
<imageobject>
<imagedata fileref="./assets/images/Xeon-ArrayStats.png" contentwidth="480" contentdepth="640" align="center"/>
</imageobject>
<textobject><phrase>ArrayStats</phrase></textobject>
</mediaobject>
</informalfigure>
</section>
<section xml:id="_amd_ryzen_9_9950x">
<title>AMD Ryzen 9 9950x</title>
<simpara>SimpleSum:</simpara>
<informalfigure>
<mediaobject>
<imageobject>
<imagedata fileref="./assets/images/Ryzen-SimpleSum.png" contentwidth="480" contentdepth="640" align="center"/>
</imageobject>
<textobject><phrase>SimpleSum</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>SimpleSumNoSuperWord:</simpara>
<informalfigure>
<mediaobject>
<imageobject>
<imagedata fileref="./assets/images/Ryzen-SimpleSumNoSuperWord.png" contentwidth="480" contentdepth="640" align="center"/>
</imageobject>
<textobject><phrase>SimpleSumNoSuperWord</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>ComplexExpression:</simpara>
<informalfigure>
<mediaobject>
<imageobject>
<imagedata fileref="./assets/images/Ryzen-ComplexExpression.png" contentwidth="480" contentdepth="640" align="center"/>
</imageobject>
<textobject><phrase>ComplexExpression</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>ComplexExpressionNoSuperWord:</simpara>
<informalfigure>
<mediaobject>
<imageobject>
<imagedata fileref="./assets/images/Ryzen-ComplexExpressionNoSuperWord.png" contentwidth="480" contentdepth="640" align="center"/>
</imageobject>
<textobject><phrase>ComplexExpressionNoSuperWord</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>ArrayStats:</simpara>
<informalfigure>
<mediaobject>
<imageobject>
<imagedata fileref="./assets/images/Ryzen-ArrayStats.png" contentwidth="480" contentdepth="640" align="center"/>
</imageobject>
<textobject><phrase>ArrayStats</phrase></textobject>
</mediaobject>
</informalfigure>
</section>
<section xml:id="_apple_m4_base">
<title>Apple M4 Base</title>
<simpara>SimpleSum:</simpara>
<informalfigure>
<mediaobject>
<imageobject>
<imagedata fileref="./assets/images/Apple-SimpleSum.png" contentwidth="480" contentdepth="640" align="center"/>
</imageobject>
<textobject><phrase>SimpleSum</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>SimpleSumNoSuperWord:</simpara>
<informalfigure>
<mediaobject>
<imageobject>
<imagedata fileref="./assets/images/Apple-SimpleSumNoSuperWord.png" contentwidth="480" contentdepth="640" align="center"/>
</imageobject>
<textobject><phrase>SimpleSumNoSuperWord</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>ComplexExpression:</simpara>
<informalfigure>
<mediaobject>
<imageobject>
<imagedata fileref="./assets/images/Apple-ComplexExpression.png" contentwidth="480" contentdepth="640" align="center"/>
</imageobject>
<textobject><phrase>ComplexExpression</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>ComplexExpressionNoSuperWord:</simpara>
<informalfigure>
<mediaobject>
<imageobject>
<imagedata fileref="./assets/images/Apple-ComplexExpressionNoSuperWord.png" contentwidth="480" contentdepth="640" align="center"/>
</imageobject>
<textobject><phrase>ComplexExpressionNoSuperWord</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>ArrayStats:</simpara>
<informalfigure>
<mediaobject>
<imageobject>
<imagedata fileref="./assets/images/Apple-ArrayStats.png" contentwidth="480" contentdepth="640" align="center"/>
</imageobject>
<textobject><phrase>ArrayStats</phrase></textobject>
</mediaobject>
</informalfigure>
</section>
<section xml:id="_qualcomm_snapdragon_x_elite_x1e80100">
<title>Qualcomm SnapDragon X Elite X1E80100</title>
<simpara>SimpleSum:</simpara>
<informalfigure>
<mediaobject>
<imageobject>
<imagedata fileref="./assets/images/SnapDragon-ArrayStats.png" contentwidth="480" contentdepth="640" align="center"/>
</imageobject>
<textobject><phrase>SimpleSum</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>SimpleSumNoSuperWord:</simpara>
<informalfigure>
<mediaobject>
<imageobject>
<imagedata fileref="./assets/images/SnapDragon-SimpleSumNoSuperWord.png" contentwidth="480" contentdepth="640" align="center"/>
</imageobject>
<textobject><phrase>SimpleSumNoSuperWord</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>ComplexExpression:</simpara>
<informalfigure>
<mediaobject>
<imageobject>
<imagedata fileref="./assets/images/SnapDragon-ComplexExpression.png" contentwidth="480" contentdepth="640" align="center"/>
</imageobject>
<textobject><phrase>ComplexExpression</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>ComplexExpressionNoSuperWord:</simpara>
<informalfigure>
<mediaobject>
<imageobject>
<imagedata fileref="./assets/images/SnapDragon-ComplexExpressionNoSuperWord.png" contentwidth="480" contentdepth="640" align="center"/>
</imageobject>
<textobject><phrase>ComplexExpressionNoSuperWord</phrase></textobject>
</mediaobject>
</informalfigure>
<simpara>ArrayStats:</simpara>
<informalfigure>
<mediaobject>
<imageobject>
<imagedata fileref="./assets/images/SnapDragon-ArrayStats.png" contentwidth="480" contentdepth="640" align="center"/>
</imageobject>
<textobject><phrase>ArrayStats</phrase></textobject>
</mediaobject>
</informalfigure>
</section>
</section>
<section xml:id="_test_analysis">
<title>Test Analysis:</title>
<simpara>SimpleSum/SimpleSunNoSuperWord &amp; ComplexExpression/ComplexExpressionNoSuperWord:</simpara>
<simpara>JIT is in most cases providing automatic vectorization matching find tuned implementation.</simpara>
<simpara>ArrayStats - Branchless code:</simpara>
<simpara>There are a few stories that fall out of this test suite.</simpara>
<simpara>x64:</simpara>
<simpara>There is a band of data set size that will elicit optimal boost from the Vector API.</simpara>
<simpara>Intel&#8217;s band is wider than AMD, however when AMD is processing optimal data set size, its gaining a very large boost.</simpara>
<simpara>ARM:</simpara>
<simpara>Both Qualcomm and Apple tend to have more boost as datasets increase in size.
In Qualcomm&#8217;s case the larger boost starts at a smaller data size, however as data set size grows the Apple system achieves more boost.</simpara>
<simpara>Conclusion:</simpara>
<simpara>For these specific processors we see that the Ryzen CPU can generate the most performance boost using Vector API IFF the data set size is in its goldilocks zone. Both ARM CPUs appear to gain more boost from Vector APIs as data sets get larger.</simpara>
</section>
</article>